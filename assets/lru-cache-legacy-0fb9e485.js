!function(){function t(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function e(e){for(var i=1;i<arguments.length;i++){var n=null!=arguments[i]?arguments[i]:{};i%2?t(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(t,e,i,n,r,o,a){try{var s=t[o](a),l=s.value}catch(h){return void i(h)}s.done?e(l):Promise.resolve(l).then(n,r)}function n(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||g(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,r,o,a,s=[],l=!0,h=!1;try{if(o=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=o.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(t){h=!0,r=t}finally{try{if(!l&&null!=i.return&&(a=i.return(),Object(a)!==a))return}finally{if(h)throw r}}return s}}(t,e)||g(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return e};var t,e={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",h=a.toStringTag||"@@toStringTag";function c(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,i){return t[e]=i}}function u(t,e,i,n){var o=e&&e.prototype instanceof b?e:b,a=Object.create(o.prototype),s=new L(n||[]);return r(a,"_invoke",{value:F(t,i,s)}),a}function f(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}e.wrap=u;var v="suspendedStart",d="suspendedYield",p="executing",y="completed",g={};function b(){}function w(){}function m(){}var k={};c(k,s,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(z([])));x&&x!==i&&n.call(x,s)&&(k=x);var O=m.prototype=b.prototype=Object.create(k);function E(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function A(t,e){function i(r,o,a,s){var l=f(t[r],t,o);if("throw"!==l.type){var h=l.arg,c=h.value;return c&&"object"==_(c)&&n.call(c,"__await")?e.resolve(c.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(c).then((function(t){h.value=t,a(h)}),(function(t){return i("throw",t,a,s)}))}s(l.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function F(e,i,n){var r=v;return function(o,a){if(r===p)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw a;return{value:t,done:!0}}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var l=j(s,n);if(l){if(l===g)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===v)throw r=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var h=f(e,i,n);if("normal"===h.type){if(r=n.done?y:d,h.arg===g)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(r=y,n.method="throw",n.arg=h.arg)}}}function j(e,i){var n=i.method,r=e.iterator[n];if(r===t)return i.delegate=null,"throw"===n&&e.iterator.return&&(i.method="return",i.arg=t,j(e,i),"throw"===i.method)||"return"!==n&&(i.method="throw",i.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var o=f(r,e.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,g;var a=o.arg;return a?a.done?(i[e.resultName]=a.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,g):a:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,g)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function W(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function z(e){if(e||""===e){var i=e[s];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function i(){for(;++r<e.length;)if(n.call(e,r))return i.value=e[r],i.done=!1,i;return i.value=t,i.done=!0,i};return o.next=o}}throw new TypeError(_(e)+" is not iterable")}return w.prototype=m,r(O,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:w,configurable:!0}),w.displayName=c(m,h,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,c(t,h,"GeneratorFunction")),t.prototype=Object.create(O),t},e.awrap=function(t){return{__await:t}},E(A.prototype),c(A.prototype,l,(function(){return this})),e.AsyncIterator=A,e.async=function(t,i,n,r,o){void 0===o&&(o=Promise);var a=new A(u(t,i,n,r),o);return e.isGeneratorFunction(i)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},E(O),c(O,h,"Generator"),c(O,s,(function(){return this})),c(O,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),i=[];for(var n in e)i.push(n);return i.reverse(),function t(){for(;i.length;){var n=i.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=z,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(W),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function r(n,r){return s.type="throw",s.arg=e,i.next=n,r&&(i.method="next",i.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=n.call(a,"catchLoc"),h=n.call(a,"finallyLoc");if(l&&h){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!h)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),W(i),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;W(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:z(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}function a(t,e,i){s(t,e),e.set(t,i)}function s(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function l(t,e,i){return t.set(c(t,e),i),i}function h(t,e){return t.get(c(t,e))}function c(t,e,i){if("function"==typeof t?t===e:t.has(e))return arguments.length<3?e:i;throw new TypeError("Private element is not present on this object")}function u(t,e,i){return e=p(e),function(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,v()?Reflect.construct(e,i||[],p(t).constructor):e.apply(t,i))}function f(t){var e="function"==typeof Map?new Map:void 0;return f=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return function(t,e,i){if(v())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var r=new(t.bind.apply(t,n));return i&&d(r,i.prototype),r}(t,arguments,p(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d(i,t)},f(t)}function v(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(v=function(){return!!t})()}function d(t,e){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},d(t,e)}function p(t){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},p(t)}function y(t,e){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=g(t))||e&&t&&"number"==typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return a=t.done,t},e:function(t){s=!0,o=t},f:function(){try{a||null==i.return||i.return()}finally{if(s)throw o}}}}function g(t,e){if(t){if("string"==typeof t)return b(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?b(t,e):void 0}}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,x(n.key),n)}}function k(t,e,i){return e&&m(t.prototype,e),i&&m(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function S(t,e,i){return(e=x(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function x(t){var e=function(t,e){if("object"!=_(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||"default");if("object"!=_(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==_(e)?e:String(e)}function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}System.register([],(function(t,v){"use strict";return{execute:function(){var v,p,g="object"===("undefined"==typeof performance?"undefined":_(performance))&&performance&&"function"==typeof performance.now?performance:Date,b=new Set,m="object"===("undefined"==typeof process?"undefined":_(process))&&process?process:{},x=function(t,e,i,n){"function"==typeof m.emitWarning&&m.emitWarning(t,e,i,n)},O=globalThis.AbortController,E=globalThis.AbortSignal;if(void 0===O){var A;E=function(){function t(){w(this,t),S(this,"onabort",void 0),S(this,"_onabort",[]),S(this,"reason",void 0),S(this,"aborted",!1)}return k(t,[{key:"addEventListener",value:function(t,e){this._onabort.push(e)}}]),t}(),O=function(){function t(){w(this,t),S(this,"signal",new E),j()}return k(t,[{key:"abort",value:function(t){var e,i;if(!this.signal.aborted){this.signal.reason=t,this.signal.aborted=!0;var n,r=y(this.signal._onabort);try{for(r.s();!(n=r.n()).done;){(0,n.value)(t)}}catch(o){r.e(o)}finally{r.f()}null===(e=(i=this.signal).onabort)||void 0===e||e.call(i,t)}}}]),t}();var F="1"!==(null===(A=m.env)||void 0===A?void 0:A.LRU_CACHE_IGNORE_AC_WARNING),j=function t(){F&&(F=!1,x("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}var T=function(t){return t&&t===Math.floor(t)&&t>0&&isFinite(t)},W=function(t){return T(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?L:null:null},L=function(t){function e(t){var i;return w(this,e),(i=u(this,e,[t])).fill(0),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(e,t),k(e)}(f(Array)),z=function(){function t(e,i){if(w(this,t),S(this,"heap",void 0),S(this,"length",void 0),!M._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new i(e),this.length=0}return k(t,[{key:"push",value:function(t){this.heap[this.length++]=t}},{key:"pop",value:function(){return this.heap[--this.length]}}],[{key:"create",value:function(e){var i=W(e);if(!i)return[];M._=!0;var n=new t(e,i);return M._=!1,n}}]),t}(),M={_:!1},C=new WeakMap,R=new WeakMap,D=new WeakMap,P=new WeakMap,G=new WeakMap,N=new WeakMap,U=new WeakMap,I=new WeakMap,H=new WeakMap,B=new WeakMap,Y=new WeakMap,q=new WeakMap,V=new WeakMap,X=new WeakMap,$=new WeakMap,J=new WeakMap,K=new WeakMap,Q=new WeakMap,Z=new WeakMap,tt=new WeakMap,et=new WeakMap,it=new WeakMap,nt=new WeakSet,rt=new WeakMap,ot=new WeakMap,at=new WeakMap,st=new WeakMap,lt=new WeakMap,ht=new WeakMap,ct=new WeakMap;v=Symbol.iterator,p=Symbol.toStringTag;var ut=function(){function t(e){var i,n;w(this,t),s(i=this,n=nt),n.add(i),a(this,C,void 0),a(this,R,void 0),a(this,D,void 0),a(this,P,void 0),a(this,G,void 0),S(this,"ttl",void 0),S(this,"ttlResolution",void 0),S(this,"ttlAutopurge",void 0),S(this,"updateAgeOnGet",void 0),S(this,"updateAgeOnHas",void 0),S(this,"allowStale",void 0),S(this,"noDisposeOnSet",void 0),S(this,"noUpdateTTL",void 0),S(this,"maxEntrySize",void 0),S(this,"sizeCalculation",void 0),S(this,"noDeleteOnFetchRejection",void 0),S(this,"noDeleteOnStaleGet",void 0),S(this,"allowStaleOnFetchAbort",void 0),S(this,"allowStaleOnFetchRejection",void 0),S(this,"ignoreFetchAbort",void 0),a(this,N,void 0),a(this,U,void 0),a(this,I,void 0),a(this,H,void 0),a(this,B,void 0),a(this,Y,void 0),a(this,q,void 0),a(this,V,void 0),a(this,X,void 0),a(this,$,void 0),a(this,J,void 0),a(this,K,void 0),a(this,Q,void 0),a(this,Z,void 0),a(this,tt,void 0),a(this,et,void 0),a(this,it,void 0),a(this,rt,(function(){})),a(this,ot,(function(){})),a(this,at,(function(){})),a(this,st,(function(){return!1})),a(this,lt,(function(t){})),a(this,ht,(function(t,e,i){})),a(this,ct,(function(t,e,i,n){if(i||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0})),S(this,p,"LRUCache");var r=e.max,o=void 0===r?0:r,u=e.ttl,f=e.ttlResolution,v=void 0===f?1:f,d=e.ttlAutopurge,y=e.updateAgeOnGet,g=e.updateAgeOnHas,m=e.allowStale,k=e.dispose,_=e.disposeAfter,O=e.noDisposeOnSet,E=e.noUpdateTTL,A=e.maxSize,F=void 0===A?0:A,j=e.maxEntrySize,L=void 0===j?0:j,M=e.sizeCalculation,ut=e.fetchMethod,dt=e.noDeleteOnFetchRejection,pt=e.noDeleteOnStaleGet,yt=e.allowStaleOnFetchRejection,gt=e.allowStaleOnFetchAbort,bt=e.ignoreFetchAbort;if(0!==o&&!T(o))throw new TypeError("max option must be a nonnegative integer");var wt=o?W(o):Array;if(!wt)throw new Error("invalid max value: "+o);if(l(C,this,o),l(R,this,F),this.maxEntrySize=L||h(R,this),this.sizeCalculation=M,this.sizeCalculation){if(!h(R,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!=typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==ut&&"function"!=typeof ut)throw new TypeError("fetchMethod must be a function if specified");if(l(G,this,ut),l(et,this,!!ut),l(I,this,new Map),l(H,this,new Array(o).fill(void 0)),l(B,this,new Array(o).fill(void 0)),l(Y,this,new wt(o)),l(q,this,new wt(o)),l(V,this,0),l(X,this,0),l($,this,z.create(o)),l(N,this,0),l(U,this,0),"function"==typeof k&&l(D,this,k),"function"==typeof _?(l(P,this,_),l(J,this,[])):(l(P,this,void 0),l(J,this,void 0)),l(tt,this,!!h(D,this)),l(it,this,!!h(P,this)),this.noDisposeOnSet=!!O,this.noUpdateTTL=!!E,this.noDeleteOnFetchRejection=!!dt,this.allowStaleOnFetchRejection=!!yt,this.allowStaleOnFetchAbort=!!gt,this.ignoreFetchAbort=!!bt,0!==this.maxEntrySize){if(0!==h(R,this)&&!T(h(R,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!T(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(nt,this,vt).call(this)}if(this.allowStale=!!m,this.noDeleteOnStaleGet=!!pt,this.updateAgeOnGet=!!y,this.updateAgeOnHas=!!g,this.ttlResolution=T(v)||0===v?v:1,this.ttlAutopurge=!!d,this.ttl=u||0,this.ttl){if(!T(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(nt,this,ft).call(this)}if(0===h(C,this)&&0===this.ttl&&0===h(R,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!h(C,this)&&!h(R,this)){var mt="LRU_CACHE_UNBOUNDED";if(function(t){return!b.has(t)}(mt)){b.add(mt);x("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",mt,t)}}}var e,u;return k(t,[{key:"max",get:function(){return h(C,this)}},{key:"maxSize",get:function(){return h(R,this)}},{key:"calculatedSize",get:function(){return h(U,this)}},{key:"size",get:function(){return h(N,this)}},{key:"fetchMethod",get:function(){return h(G,this)}},{key:"dispose",get:function(){return h(D,this)}},{key:"disposeAfter",get:function(){return h(P,this)}},{key:"getRemainingTTL",value:function(t){return h(I,this).has(t)?1/0:0}},{key:"entries",value:o().mark((function t(){var e,i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,dt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=10;break}if(n=i.value,void 0===h(B,this)[n]||void 0===h(H,this)[n]||c(nt,this,wt).call(this,h(B,this)[n])){t.next=8;break}return t.next=8,[h(H,this)[n],h(B,this)[n]];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"rentries",value:o().mark((function t(){var e,i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,pt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=10;break}if(n=i.value,void 0===h(B,this)[n]||void 0===h(H,this)[n]||c(nt,this,wt).call(this,h(B,this)[n])){t.next=8;break}return t.next=8,[h(H,this)[n],h(B,this)[n]];case 8:t.next=3;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),e.e(t.t0);case 15:return t.prev=15,e.f(),t.finish(15);case 18:case"end":return t.stop()}}),t,this,[[1,12,15,18]])}))},{key:"keys",value:o().mark((function t(){var e,i,n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,dt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=11;break}if(n=i.value,void 0===(r=h(H,this)[n])||c(nt,this,wt).call(this,h(B,this)[n])){t.next=9;break}return t.next=9,r;case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.e(t.t0);case 16:return t.prev=16,e.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])}))},{key:"rkeys",value:o().mark((function t(){var e,i,n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,pt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=11;break}if(n=i.value,void 0===(r=h(H,this)[n])||c(nt,this,wt).call(this,h(B,this)[n])){t.next=9;break}return t.next=9,r;case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.e(t.t0);case 16:return t.prev=16,e.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])}))},{key:"values",value:o().mark((function t(){var e,i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,dt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=11;break}if(n=i.value,void 0===h(B,this)[n]||c(nt,this,wt).call(this,h(B,this)[n])){t.next=9;break}return t.next=9,h(B,this)[n];case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.e(t.t0);case 16:return t.prev=16,e.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])}))},{key:"rvalues",value:o().mark((function t(){var e,i,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=y(c(nt,this,pt).call(this)),t.prev=1,e.s();case 3:if((i=e.n()).done){t.next=11;break}if(n=i.value,void 0===h(B,this)[n]||c(nt,this,wt).call(this,h(B,this)[n])){t.next=9;break}return t.next=9,h(B,this)[n];case 9:t.next=3;break;case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),e.e(t.t0);case 16:return t.prev=16,e.f(),t.finish(16);case 19:case"end":return t.stop()}}),t,this,[[1,13,16,19]])}))},{key:v,value:function(){return this.entries()}},{key:"find",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=y(c(nt,this,dt).call(this));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=h(B,this)[r],a=c(nt,this,wt).call(this,o)?o.__staleWhileFetching:o;if(void 0!==a&&t(a,h(H,this)[r],this))return this.get(h(H,this)[r],i)}}catch(s){n.e(s)}finally{n.f()}}},{key:"forEach",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=y(c(nt,this,dt).call(this));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=h(B,this)[r],a=c(nt,this,wt).call(this,o)?o.__staleWhileFetching:o;void 0!==a&&t.call(i,a,h(H,this)[r],this)}}catch(s){n.e(s)}finally{n.f()}}},{key:"rforEach",value:function(t){var e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=y(c(nt,this,pt).call(this));try{for(n.s();!(e=n.n()).done;){var r=e.value,o=h(B,this)[r],a=c(nt,this,wt).call(this,o)?o.__staleWhileFetching:o;void 0!==a&&t.call(i,a,h(H,this)[r],this)}}catch(s){n.e(s)}finally{n.f()}}},{key:"purgeStale",value:function(){var t,e=!1,i=y(c(nt,this,pt).call(this,{allowStale:!0}));try{for(i.s();!(t=i.n()).done;){var n=t.value;h(st,this).call(this,n)&&(this.delete(h(H,this)[n]),e=!0)}}catch(r){i.e(r)}finally{i.f()}return e}},{key:"info",value:function(t){var e=h(I,this).get(t);if(void 0!==e){var i=h(B,this)[e],n=c(nt,this,wt).call(this,i)?i.__staleWhileFetching:i;if(void 0!==n){var r={value:n};if(h(Z,this)&&h(Q,this)){var o=h(Z,this)[e],a=h(Q,this)[e];if(o&&a){var s=o-(g.now()-a);r.ttl=s,r.start=Date.now()}}return h(K,this)&&(r.size=h(K,this)[e]),r}}}},{key:"dump",value:function(){var t,e=[],i=y(c(nt,this,dt).call(this,{allowStale:!0}));try{for(i.s();!(t=i.n()).done;){var n=t.value,r=h(H,this)[n],o=h(B,this)[n],a=c(nt,this,wt).call(this,o)?o.__staleWhileFetching:o;if(void 0!==a&&void 0!==r){var s={value:a};if(h(Z,this)&&h(Q,this)){s.ttl=h(Z,this)[n];var l=g.now()-h(Q,this)[n];s.start=Math.floor(Date.now()-l)}h(K,this)&&(s.size=h(K,this)[n]),e.unshift([r,s])}}}catch(u){i.e(u)}finally{i.f()}return e}},{key:"load",value:function(t){this.clear();var e,i=y(t);try{for(i.s();!(e=i.n()).done;){var n=r(e.value,2),o=n[0],a=n[1];if(a.start){var s=Date.now()-a.start;a.start=g.now()-s}this.set(o,a.value,a)}}catch(l){i.e(l)}finally{i.f()}}},{key:"set",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===e)return this.delete(t),this;var r=i.ttl,o=void 0===r?this.ttl:r,a=i.start,s=i.noDisposeOnSet,u=void 0===s?this.noDisposeOnSet:s,f=i.sizeCalculation,v=void 0===f?this.sizeCalculation:f,d=i.status,p=i.noUpdateTTL,y=void 0===p?this.noUpdateTTL:p,g=h(ct,this).call(this,t,e,i.size||0,v);if(this.maxEntrySize&&g>this.maxEntrySize)return d&&(d.set="miss",d.maxEntrySizeExceeded=!0),this.delete(t),this;var b=0===h(N,this)?void 0:h(I,this).get(t);if(void 0===b){var w;b=0===h(N,this)?h(X,this):0!==h($,this).length?h($,this).pop():h(N,this)===h(C,this)?c(nt,this,gt).call(this,!1):h(N,this),h(H,this)[b]=t,h(B,this)[b]=e,h(I,this).set(t,b),h(Y,this)[h(X,this)]=b,h(q,this)[b]=h(X,this),l(X,this,b),l(N,this,(w=h(N,this),w++,w)),h(ht,this).call(this,b,g,d),d&&(d.set="add"),y=!1}else{c(nt,this,kt).call(this,b);var m=h(B,this)[b];if(e!==m){if(h(et,this)&&c(nt,this,wt).call(this,m)){m.__abortController.abort(new Error("replaced"));var k=m.__staleWhileFetching;if(void 0!==k&&!u){var S,x;if(h(tt,this))null===(S=h(D,this))||void 0===S||S.call(this,k,t,"set");if(h(it,this))null===(x=h(J,this))||void 0===x||x.push([k,t,"set"])}}else if(!u){var _,O;if(h(tt,this))null===(_=h(D,this))||void 0===_||_.call(this,m,t,"set");if(h(it,this))null===(O=h(J,this))||void 0===O||O.push([m,t,"set"])}if(h(lt,this).call(this,b),h(ht,this).call(this,b,g,d),h(B,this)[b]=e,d){d.set="replace";var E=m&&c(nt,this,wt).call(this,m)?m.__staleWhileFetching:m;void 0!==E&&(d.oldValue=E)}}else d&&(d.set="update")}if(0===o||h(Z,this)||c(nt,this,ft).call(this),h(Z,this)&&(y||h(at,this).call(this,b,o,a),d&&h(ot,this).call(this,d,b)),!u&&h(it,this)&&h(J,this))for(var A,F=h(J,this);A=null==F?void 0:F.shift();){var j,T;null===(j=h(P,this))||void 0===j||(T=j).call.apply(T,[this].concat(n(A)))}return this}},{key:"pop",value:function(){try{for(;h(N,this);){var t=h(B,this)[h(V,this)];if(c(nt,this,gt).call(this,!0),c(nt,this,wt).call(this,t)){if(t.__staleWhileFetching)return t.__staleWhileFetching}else if(void 0!==t)return t}}finally{if(h(it,this)&&h(J,this))for(var e,i=h(J,this);e=null==i?void 0:i.shift();){var r,o;null===(r=h(P,this))||void 0===r||(o=r).call.apply(o,[this].concat(n(e)))}}}},{key:"has",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.updateAgeOnHas,n=void 0===i?this.updateAgeOnHas:i,r=e.status,o=h(I,this).get(t);if(void 0!==o){var a=h(B,this)[o];if(c(nt,this,wt).call(this,a)&&void 0===a.__staleWhileFetching)return!1;if(!h(st,this).call(this,o))return n&&h(rt,this).call(this,o),r&&(r.has="hit",h(ot,this).call(this,r,o)),!0;r&&(r.has="stale",h(ot,this).call(this,r,o))}else r&&(r.has="miss");return!1}},{key:"peek",value:function(t){var e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).allowStale,i=void 0===e?this.allowStale:e,n=h(I,this).get(t);if(void 0!==n&&(i||!h(st,this).call(this,n))){var r=h(B,this)[n];return c(nt,this,wt).call(this,r)?r.__staleWhileFetching:r}}},{key:"fetch",value:(e=o().mark((function t(e){var i,n,r,a,s,l,u,f,v,d,p,y,g,b,w,m,k,S,x,_,O,E,A,F,j,T,W,L,z,M,C,R,D,P,G,N,U,H,Y,q=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(i=q.length>1&&void 0!==q[1]?q[1]:{}).allowStale,r=void 0===n?this.allowStale:n,a=i.updateAgeOnGet,s=void 0===a?this.updateAgeOnGet:a,l=i.noDeleteOnStaleGet,u=void 0===l?this.noDeleteOnStaleGet:l,f=i.ttl,v=void 0===f?this.ttl:f,d=i.noDisposeOnSet,p=void 0===d?this.noDisposeOnSet:d,y=i.size,g=void 0===y?0:y,b=i.sizeCalculation,w=void 0===b?this.sizeCalculation:b,m=i.noUpdateTTL,k=void 0===m?this.noUpdateTTL:m,S=i.noDeleteOnFetchRejection,x=void 0===S?this.noDeleteOnFetchRejection:S,_=i.allowStaleOnFetchRejection,O=void 0===_?this.allowStaleOnFetchRejection:_,E=i.ignoreFetchAbort,A=void 0===E?this.ignoreFetchAbort:E,F=i.allowStaleOnFetchAbort,j=void 0===F?this.allowStaleOnFetchAbort:F,T=i.context,W=i.forceRefresh,L=void 0!==W&&W,z=i.status,M=i.signal,h(et,this)){t.next=5;break}return z&&(z.fetch="get"),t.abrupt("return",this.get(e,{allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:u,status:z}));case 5:if(C={allowStale:r,updateAgeOnGet:s,noDeleteOnStaleGet:u,ttl:v,noDisposeOnSet:p,size:g,sizeCalculation:w,noUpdateTTL:k,noDeleteOnFetchRejection:x,allowStaleOnFetchRejection:O,allowStaleOnFetchAbort:j,ignoreFetchAbort:A,status:z,signal:M},void 0!==(R=h(I,this).get(e))){t.next=13;break}return z&&(z.fetch="miss"),D=c(nt,this,bt).call(this,e,R,C,T),t.abrupt("return",D.__returned=D);case 13:if(P=h(B,this)[R],!c(nt,this,wt).call(this,P)){t.next=18;break}return G=r&&void 0!==P.__staleWhileFetching,z&&(z.fetch="inflight",G&&(z.returnedStale=!0)),t.abrupt("return",G?P.__staleWhileFetching:P.__returned=P);case 18:if(N=h(st,this).call(this,R),L||N){t.next=25;break}return z&&(z.fetch="hit"),c(nt,this,kt).call(this,R),s&&h(rt,this).call(this,R),z&&h(ot,this).call(this,z,R),t.abrupt("return",P);case 25:return U=c(nt,this,bt).call(this,e,R,C,T),H=void 0!==U.__staleWhileFetching,Y=H&&r,z&&(z.fetch=N?"stale":"refresh",Y&&N&&(z.returnedStale=!0)),t.abrupt("return",Y?U.__staleWhileFetching:U.__returned=U);case 30:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(t){i(a,r,o,s,l,"next",t)}function l(t){i(a,r,o,s,l,"throw",t)}s(void 0)}))},function(t){return u.apply(this,arguments)})},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.allowStale,n=void 0===i?this.allowStale:i,r=e.updateAgeOnGet,o=void 0===r?this.updateAgeOnGet:r,a=e.noDeleteOnStaleGet,s=void 0===a?this.noDeleteOnStaleGet:a,l=e.status,u=h(I,this).get(t);if(void 0!==u){var f=h(B,this)[u],v=c(nt,this,wt).call(this,f);return l&&h(ot,this).call(this,l,u),h(st,this).call(this,u)?(l&&(l.get="stale"),v?(l&&n&&void 0!==f.__staleWhileFetching&&(l.returnedStale=!0),n?f.__staleWhileFetching:void 0):(s||this.delete(t),l&&n&&(l.returnedStale=!0),n?f:void 0)):(l&&(l.get="hit"),v?f.__staleWhileFetching:(c(nt,this,kt).call(this,u),o&&h(rt,this).call(this,u),f))}l&&(l.get="miss")}},{key:"delete",value:function(t){var e,i=!1;if(0!==h(N,this)){var r=h(I,this).get(t);if(void 0!==r)if(i=!0,1===h(N,this))this.clear();else{var o;h(lt,this).call(this,r);var a=h(B,this)[r];if(c(nt,this,wt).call(this,a))a.__abortController.abort(new Error("deleted"));else if(h(tt,this)||h(it,this)){var s,u;if(h(tt,this))null===(s=h(D,this))||void 0===s||s.call(this,a,t,"delete");if(h(it,this))null===(u=h(J,this))||void 0===u||u.push([a,t,"delete"])}if(h(I,this).delete(t),h(H,this)[r]=void 0,h(B,this)[r]=void 0,r===h(X,this))l(X,this,h(q,this)[r]);else if(r===h(V,this))l(V,this,h(Y,this)[r]);else{var f=h(q,this)[r];h(Y,this)[f]=h(Y,this)[r];var v=h(Y,this)[r];h(q,this)[v]=h(q,this)[r]}l(N,this,(o=h(N,this),o--,o)),h($,this).push(r)}}if(h(it,this)&&null!==(e=h(J,this))&&void 0!==e&&e.length)for(var d,p=h(J,this);d=null==p?void 0:p.shift();){var y,g;null===(y=h(P,this))||void 0===y||(g=y).call.apply(g,[this].concat(n(d)))}return i}},{key:"clear",value:function(){var t,e=y(c(nt,this,pt).call(this,{allowStale:!0}));try{for(e.s();!(t=e.n()).done;){var i=t.value,r=h(B,this)[i];if(c(nt,this,wt).call(this,r))r.__abortController.abort(new Error("deleted"));else{var o,a,s=h(H,this)[i];if(h(tt,this))null===(o=h(D,this))||void 0===o||o.call(this,r,s,"delete");if(h(it,this))null===(a=h(J,this))||void 0===a||a.push([r,s,"delete"])}}}catch(p){e.e(p)}finally{e.f()}if(h(I,this).clear(),h(B,this).fill(void 0),h(H,this).fill(void 0),h(Z,this)&&h(Q,this)&&(h(Z,this).fill(0),h(Q,this).fill(0)),h(K,this)&&h(K,this).fill(0),l(V,this,0),l(X,this,0),h($,this).length=0,l(U,this,0),l(N,this,0),h(it,this)&&h(J,this))for(var u,f=h(J,this);u=null==f?void 0:f.shift();){var v,d;null===(v=h(P,this))||void 0===v||(d=v).call.apply(d,[this].concat(n(u)))}}}],[{key:"unsafeExposeInternals",value:function(t){return{starts:h(Q,t),ttls:h(Z,t),sizes:h(K,t),keyMap:h(I,t),keyList:h(H,t),valList:h(B,t),next:h(Y,t),prev:h(q,t),get head(){return h(V,t)},get tail(){return h(X,t)},free:h($,t),isBackgroundFetch:function(e){return c(nt,t,wt).call(t,e)},backgroundFetch:function(e,i,n,r){return c(nt,t,bt).call(t,e,i,n,r)},moveToTail:function(e){return c(nt,t,kt).call(t,e)},indexes:function(e){return c(nt,t,dt).call(t,e)},rindexes:function(e){return c(nt,t,pt).call(t,e)},isStale:function(e){return h(st,t).call(t,e)}}}}]),t}();function ft(){var t=this,e=new L(h(C,this)),i=new L(h(C,this));l(Z,this,e),l(Q,this,i),l(at,this,(function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g.now();if(i[n]=0!==r?o:0,e[n]=r,0!==r&&t.ttlAutopurge){var a=setTimeout((function(){h(st,t).call(t,n)&&t.delete(h(H,t)[n])}),r+1);a.unref&&a.unref()}})),l(rt,this,(function(t){i[t]=0!==e[t]?g.now():0})),l(ot,this,(function(t,o){if(e[o]){var a=e[o],s=i[o];if(!a||!s)return;t.ttl=a,t.start=s,t.now=n||r();var l=t.now-s;t.remainingTTL=a-l}}));var n=0,r=function(){var e=g.now();if(t.ttlResolution>0){n=e;var i=setTimeout((function(){return n=0}),t.ttlResolution);i.unref&&i.unref()}return e};this.getRemainingTTL=function(o){var a=h(I,t).get(o);if(void 0===a)return 0;var s=e[a],l=i[a];return s&&l?s-((n||r())-l):1/0},l(st,this,(function(t){var o=i[t],a=e[t];return!!a&&!!o&&(n||r())-o>a}))}function vt(){var t=this,e=new L(h(C,this));l(U,this,0),l(K,this,e),l(lt,this,(function(i){l(U,t,h(U,t)-e[i]),e[i]=0})),l(ct,this,(function(e,i,n,r){if(c(nt,t,wt).call(t,i))return 0;if(!T(n)){if(!r)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!=typeof r)throw new TypeError("sizeCalculation must be a function");if(n=r(i,e),!T(n))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return n})),l(ht,this,(function(i,n,r){if(e[i]=n,h(R,t))for(var o=h(R,t)-e[i];h(U,t)>o;)c(nt,t,gt).call(t,!0);l(U,t,h(U,t)+e[i]),r&&(r.entrySize=n,r.totalCalculatedSize=h(U,t))}))}function dt(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowStale,i=void 0===e?this.allowStale:e;return o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(N,t)){e.next=15;break}n=h(X,t);case 2:if(c(nt,t,yt).call(t,n)){e.next=5;break}return e.abrupt("break",15);case 5:if(!i&&h(st,t).call(t,n)){e.next=8;break}return e.next=8,n;case 8:if(n!==h(V,t)){e.next=12;break}return e.abrupt("break",15);case 12:n=h(q,t)[n];case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e)}))()}function pt(){var t=this,e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).allowStale,i=void 0===e?this.allowStale:e;return o().mark((function e(){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h(N,t)){e.next=15;break}n=h(V,t);case 2:if(c(nt,t,yt).call(t,n)){e.next=5;break}return e.abrupt("break",15);case 5:if(!i&&h(st,t).call(t,n)){e.next=8;break}return e.next=8,n;case 8:if(n!==h(X,t)){e.next=12;break}return e.abrupt("break",15);case 12:n=h(Y,t)[n];case 13:e.next=2;break;case 15:case"end":return e.stop()}}),e)}))()}function yt(t){return void 0!==t&&h(I,this).get(h(H,this)[t])===t}function gt(t){var e,i=h(V,this),n=h(H,this)[i],r=h(B,this)[i];if(h(et,this)&&c(nt,this,wt).call(this,r))r.__abortController.abort(new Error("evicted"));else if(h(tt,this)||h(it,this)){var o,a;if(h(tt,this))null===(o=h(D,this))||void 0===o||o.call(this,r,n,"evict");if(h(it,this))null===(a=h(J,this))||void 0===a||a.push([r,n,"evict"])}return h(lt,this).call(this,i),t&&(h(H,this)[i]=void 0,h(B,this)[i]=void 0,h($,this).push(i)),1===h(N,this)?(l(V,this,l(X,this,0)),h($,this).length=0):l(V,this,h(Y,this)[i]),h(I,this).delete(n),l(N,this,(e=h(N,this),e--,e)),i}function bt(t,i,n,r){var o=this,a=void 0===i?void 0:h(B,this)[i];if(c(nt,this,wt).call(this,a))return a;var s=new O,l=n.signal;null==l||l.addEventListener("abort",(function(){return s.abort(l.reason)}),{signal:s.signal});var u={signal:s.signal,options:n,context:r},f=function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=s.signal.aborted,l=n.ignoreFetchAbort&&void 0!==e;if(n.status&&(a&&!r?(n.status.fetchAborted=!0,n.status.fetchError=s.signal.reason,l&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),a&&!l&&!r)return v(s.signal.reason);var c=d;return h(B,o)[i]===d&&(void 0===e?c.__staleWhileFetching?h(B,o)[i]=c.__staleWhileFetching:o.delete(t):(n.status&&(n.status.fetchUpdated=!0),o.set(t,e,u.options))),e},v=function(e){var r=s.signal.aborted&&n.allowStaleOnFetchAbort,a=r||n.allowStaleOnFetchRejection,l=a||n.noDeleteOnFetchRejection,c=d;h(B,o)[i]===d&&(!l||void 0===c.__staleWhileFetching?o.delete(t):r||(h(B,o)[i]=c.__staleWhileFetching));if(a)return n.status&&void 0!==c.__staleWhileFetching&&(n.status.returnedStale=!0),c.__staleWhileFetching;if(c.__returned===c)throw e};n.status&&(n.status.fetchDispatched=!0);var d=new Promise((function(e,i){var r,l=null===(r=h(G,o))||void 0===r?void 0:r.call(o,t,a,u);l&&l instanceof Promise&&l.then((function(t){return e(void 0===t?void 0:t)}),i),s.signal.addEventListener("abort",(function(){n.ignoreFetchAbort&&!n.allowStaleOnFetchAbort||(e(void 0),n.allowStaleOnFetchAbort&&(e=function(t){return f(t,!0)}))}))})).then(f,(function(t){return n.status&&(n.status.fetchRejected=!0,n.status.fetchError=t),v(t)})),p=Object.assign(d,{__abortController:s,__staleWhileFetching:a,__returned:void 0});return void 0===i?(this.set(t,p,e(e({},u.options),{},{status:void 0})),i=h(I,this).get(t)):h(B,this)[i]=p,p}function wt(t){if(!h(et,this))return!1;var e=t;return!!e&&e instanceof Promise&&e.hasOwnProperty("__staleWhileFetching")&&e.__abortController instanceof O}function mt(t,e){h(q,this)[e]=t,h(Y,this)[t]=e}function kt(t){t!==h(X,this)&&(t===h(V,this)?l(V,this,h(Y,this)[t]):c(nt,this,mt).call(this,h(q,this)[t],h(Y,this)[t]),c(nt,this,mt).call(this,h(X,this),t),l(X,this,t))}t("L",ut)}}}))}();
