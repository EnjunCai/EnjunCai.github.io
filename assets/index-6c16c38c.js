import{b as S,c as V}from"./element-plus-4954d889.js";import{d as I,b as i,c as x,a as n,P as b,V as g,F as E,a7 as W,u as C,S as d,U as u,O as c,ax as T,ay as D,o as y,J as P,T as R}from"./@vue-eaa1d06e.js";import{_ as q}from"./index-dfebe2f6.js";import"./lodash-es-2c2c875c.js";import"./@vueuse-7ad8fefa.js";import"./@element-plus-14324e93.js";import"./@popperjs-c75af06c.js";import"./@ctrl-4c9502e5.js";import"./dayjs-377b984f.js";import"./async-validator-bf8f818c.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-da39869e.js";import"./pinia-d32daf95.js";import"./vue-router-3cdb739e.js";const z=p=>(T("data-v-532170bb"),p=p(),D(),p),F={class:"openBoxPending"},L=z(()=>n("div",{class:"pointer"},null,-1)),O={class:"options"},U=I({__name:"index",setup(p){let f=i([]);const h=i(),k=i(),s=i(!1);let m=i([{id:1,title:"一等奖",color:"pink"},{id:2,title:"二等奖",color:"darkgoldenrod"},{id:3,title:"三等奖",color:"darkturquoise"},{id:4,title:"小玩具",color:"peachpuff"},{id:5,title:"废品",color:"lavender"},{id:6,title:"垃圾",color:"aquamarine"},{id:7,title:"破烂",color:"dimgray"},{id:8,title:"谢谢参与",color:"azure"},{id:9,title:"下次加油",color:"fuchsia"},{id:10,title:"继续努力",color:"red"}]);const _=i(-1),M=i();function w(a){let e=Math.floor(a),l,r=e+.1,o=e+.9;return l=r+Math.random()*(o-r),l-a}const B=()=>{let a=h.value,e=[];for(s.value=!0;e.length<120;){const t=Math.floor(Math.random()*m.value.length);e.push({...m.value[t]})}for(let t=e.length-1;t>0;t--){const v=Math.floor(Math.random()*(t+1));[e[t],e[v]]=[e[v],e[t]]}let l=1e4/100,r=k.value.offsetWidth/2/100,o=Math.round(l+Math.ceil(r))-1;if(_.value!=-1){const t=m.value.find(v=>v.id===_.value);e[o]=t}else{let t=Math.floor(Math.random()*7)+4;[1,2,3].includes(e[o].id)&&(e[o]=m.value[t])}f.value=e,M.value=setTimeout(()=>{a.style.transition="all 10s",a.style.transform=`translateX(-${1e4+w(r)*100}px)`},1e3)},N=()=>{s.value=!1,f.value=[],clearTimeout(M.value);let a=h.value;a.style.transition="none",a.style.transform="translateX(0px)"};return(a,e)=>{const l=S,r=V;return y(),x("div",null,[n("div",{class:"box_wrapper",ref_key:"boxWrapper",ref:k},[b(n("div",F," 点击按钮抽奖（默认不匹配，永远抽不到前三个奖品） ",512),[[g,!s.value]]),L,n("div",{class:"item_wrapper",ref_key:"itemWrapper",ref:h},[(y(!0),x(E,null,W(C(f),(o,t)=>(y(),x("div",{class:"item",style:P({background:""+o.color}),key:Number(o.id)},R(o.title),5))),128))],512)],512),b(n("button",{onClick:B},"开始",512),[[g,!s.value]]),b(n("button",{onClick:N},"重置",512),[[g,s.value]]),n("div",O,[d(" 指定一个id必中 "),u(r,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=o=>_.value=o)},{default:c(()=>[u(l,{value:-1},{default:c(()=>[d("不匹配")]),_:1}),u(l,{value:1},{default:c(()=>[d("一等奖")]),_:1}),u(l,{value:2},{default:c(()=>[d("二等奖")]),_:1}),u(l,{value:3},{default:c(()=>[d("三等奖")]),_:1})]),_:1},8,["modelValue"])])])}}});const le=q(U,[["__scopeId","data-v-532170bb"]]);export{le as default};
