import{S as C}from"./StudyNavbar-78686f83.js";import{r,t as L,x as I,d as y,o as u,c as v,q as B,L as g,M as p,O as _,y as M,T as $,u as h,a as i,Q as D,S as V,D as A,F,U as N,V as R,a4 as T,a5 as q}from"./@vue-43b13839.js";import{_ as b}from"./index-6d5046e4.js";import"./vue-router-ff7bd7e6.js";import"./pinia-4f00b7fe.js";import"./element-plus-aeaee0da.js";import"./@vueuse-c25a07e1.js";import"./@element-plus-f4c74c42.js";import"./lodash-es-f44eecda.js";function H(o){console.log(o);const d=r(0),l=r(0),c=r(),a=e=>{e.preventDefault(),e.stopPropagation(),console.log(e.clientX,e.clientY),d.value=e.clientX,l.value=e.clientY,c.value=!0},s=()=>{c.value=!1};return L(()=>{const e=o.value;e==null||e.addEventListener("contextmenu",a),window.addEventListener("click",s,!0),window.addEventListener("contextmenu",s,!0)}),I(()=>{const e=o.value;e==null||e.removeEventListener("contextmenu",a),window.removeEventListener("click",s,!0),window.removeEventListener("contextmenu",s,!0)}),{x:d,y:l,isShow:c}}const U={class:"menu"},X=["onClick"],Y=y({__name:"RightClick",props:{menus:{default:()=>[]}},emits:["select"],setup(o,{emit:d}){const l=r(null),{x:c,y:a,isShow:s}=H(l),e=d,w=t=>{s.value=!1,e("select",t)},S=t=>{const n=t;n.style.height="0"},E=t=>{console.log(t);const n=t;n.style.height="auto";const m=n.clientHeight;n.style.height="0",requestAnimationFrame(()=>{n.style.height=m+"px",n.style.overflow="hidden",n.style.transition="all .3s"})},k=t=>{const n=t;n.style.transition="none"};return(t,n)=>(u(),v("div",{ref_key:"containerRef",ref:l,class:"wrapper"},[B(t.$slots,"default",{},void 0,!0),(u(),g(R,{to:"body"},[p(N,{onBeforeEnter:S,onEnter:E,onAfterEnter:k},{default:_(()=>[M(i("div",{class:"menuWrapper",style:F({left:h(c)+"px",top:h(a)+"px"})},[i("div",U,[(u(!0),v(D,null,V(t.menus,(m,j)=>(u(),v("div",{class:"menuItem",onClick:G=>w(m.label)},A(m.label),9,X))),256))])],4),[[$,h(s)]])]),_:1})]))],512))}});const f=b(Y,[["__scopeId","data-v-ee87a23f"]]),x=o=>(T("data-v-9b3437fd"),o=o(),q(),o),z={class:"content"},O=x(()=>i("div",{class:"card1"},"右键试试自定义菜单",-1)),P=x(()=>i("div",{class:"card3"},"右键试试自定义菜单3,我是嵌套的",-1)),Q=x(()=>i("div",{class:"card2"},"右键试试自定义菜单2",-1)),W=y({__name:"index",setup(o){const d=r([{label:"复制"},{label:"粘贴"},{label:"我是card1"}]),l=r([{label:"复制"},{label:"粘贴"},{label:"我是card2"}]),c=r([{label:"复制"},{label:"粘贴"},{label:"我是card3"}]),a=s=>{console.log(s)};return(s,e)=>(u(),g(C,null,{main:_(()=>[i("div",z,[i("div",null,[p(f,{menus:d.value,onSelect:a},{default:_(()=>[O,p(f,{menus:c.value,onSelect:a},{default:_(()=>[P]),_:1},8,["menus"])]),_:1},8,["menus"])]),p(f,{menus:l.value,onSelect:a},{default:_(()=>[Q]),_:1},8,["menus"])])]),_:1}))}});const le=b(W,[["__scopeId","data-v-9b3437fd"]]);export{le as default};
