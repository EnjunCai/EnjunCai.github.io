import{S as f}from"./StudyNavbar-19a347da.js";import{_ as V}from"./index-59f3382f.js";import"./pinia-4ab095f9.js";import"vue";import"./@codemirror-453f4d42.js";import"./@lezer-9e9c314f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";/* empty css                     */import"./@element-plus-ffca2e11.js";function h(l){console.log(l);const r=Vue.ref(0),u=Vue.ref(0),c=Vue.ref(),s=e=>{e.preventDefault(),e.stopPropagation(),console.log(e.clientX,e.clientY),r.value=e.clientX,u.value=e.clientY,c.value=!0},o=()=>{c.value=!1};return Vue.onMounted(()=>{const e=l.value;e==null||e.addEventListener("contextmenu",s),window.addEventListener("click",o,!0),window.addEventListener("contextmenu",o,!0)}),Vue.onUnmounted(()=>{const e=l.value;e==null||e.removeEventListener("contextmenu",s),window.removeEventListener("click",o,!0),window.removeEventListener("contextmenu",o,!0)}),{x:r,y:u,isShow:c}}const x={class:"menu"},E=["onClick"],w=Vue.defineComponent({__name:"RightClick",props:{menus:{default:()=>[]}},emits:["select"],setup(l,{emit:r}){const u=Vue.ref(null),{x:c,y:s,isShow:o}=h(u),e=r,m=t=>{o.value=!1,e("select",t)},_=t=>{const n=t;n.style.height="0"},p=t=>{console.log(t);const n=t;n.style.height="auto";const a=n.clientHeight;n.style.height="0",requestAnimationFrame(()=>{n.style.height=a+"px",n.style.overflow="hidden",n.style.transition="all .3s"})},v=t=>{const n=t;n.style.transition="none"};return(t,n)=>(Vue.openBlock(),Vue.createElementBlock("div",{ref_key:"containerRef",ref:u,class:"wrapper"},[Vue.renderSlot(t.$slots,"default",{},void 0,!0),(Vue.openBlock(),Vue.createBlock(Vue.Teleport,{to:"body"},[Vue.createVNode(Vue.Transition,{onBeforeEnter:_,onEnter:p,onAfterEnter:v},{default:Vue.withCtx(()=>[Vue.withDirectives(Vue.createElementVNode("div",{class:"menuWrapper",style:Vue.normalizeStyle({left:Vue.unref(c)+"px",top:Vue.unref(s)+"px"})},[Vue.createElementVNode("div",x,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(t.menus,(a,S)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:"menuItem",onClick:B=>m(a.label)},Vue.toDisplayString(a.label),9,E))),256))])],4),[[Vue.vShow,Vue.unref(o)]])]),_:1})]))],512))}});const i=V(w,[["__scopeId","data-v-ee87a23f"]]),d=l=>(Vue.pushScopeId("data-v-9b3437fd"),l=l(),Vue.popScopeId(),l),y={class:"content"},k=d(()=>Vue.createElementVNode("div",{class:"card1"},"右键试试自定义菜单",-1)),g=d(()=>Vue.createElementVNode("div",{class:"card3"},"右键试试自定义菜单3,我是嵌套的",-1)),b=d(()=>Vue.createElementVNode("div",{class:"card2"},"右键试试自定义菜单2",-1)),C=Vue.defineComponent({__name:"index",setup(l){const r=Vue.ref([{label:"复制"},{label:"粘贴"},{label:"我是card1"}]),u=Vue.ref([{label:"复制"},{label:"粘贴"},{label:"我是card2"}]),c=Vue.ref([{label:"复制"},{label:"粘贴"},{label:"我是card3"}]),s=o=>{console.log(o)};return(o,e)=>(Vue.openBlock(),Vue.createBlock(f,null,{main:Vue.withCtx(()=>[Vue.createElementVNode("div",y,[Vue.createElementVNode("div",null,[Vue.createVNode(i,{menus:r.value,onSelect:s},{default:Vue.withCtx(()=>[k,Vue.createVNode(i,{menus:c.value,onSelect:s},{default:Vue.withCtx(()=>[g]),_:1},8,["menus"])]),_:1},8,["menus"])]),Vue.createVNode(i,{menus:u.value,onSelect:s},{default:Vue.withCtx(()=>[b]),_:1},8,["menus"])])]),_:1}))}});const T=V(C,[["__scopeId","data-v-9b3437fd"]]);export{T as default};
