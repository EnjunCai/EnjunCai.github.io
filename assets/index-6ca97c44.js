import{S as C}from"./StudyNavbar-8e25fd45.js";import{r,o as I,C as L,d as x,c as u,e as p,m as B,k as y,i as h,l as m,x as $,y as A,s as v,f as d,F as D,g as M,t as F,A as N,T as R,D as T,_ as g,p as V,h as H}from"./index-e22c770e.js";function X(s){console.log(s);const i=r(0),a=r(0),o=r(),c=e=>{e.preventDefault(),e.stopPropagation(),console.log(e.clientX,e.clientY),i.value=e.clientX,a.value=e.clientY,o.value=!0},l=()=>{o.value=!1};return I(()=>{const e=s.value;e==null||e.addEventListener("contextmenu",c),window.addEventListener("click",l,!0),window.addEventListener("contextmenu",l,!0)}),L(()=>{const e=s.value;e==null||e.removeEventListener("contextmenu",c),window.removeEventListener("click",l,!0),window.removeEventListener("contextmenu",l,!0)}),{x:i,y:a,isShow:o}}const Y={class:"menu"},q=["onClick"],z=x({__name:"RightClick",props:{menus:{default:()=>[]}},emits:["select"],setup(s,{emit:i}){const a=r(null),{x:o,y:c,isShow:l}=X(a),e=i,b=t=>{l.value=!1,e("select",t)},E=t=>{const n=t;n.style.height="0"},S=t=>{console.log(t);const n=t;n.style.height="auto";const _=n.clientHeight;n.style.height="0",requestAnimationFrame(()=>{n.style.height=_+"px",n.style.overflow="hidden",n.style.transition="all .3s"})},k=t=>{const n=t;n.style.transition="none"};return(t,n)=>(u(),p("div",{ref_key:"containerRef",ref:a,class:"wrapper"},[B(t.$slots,"default",{},void 0,!0),(u(),y(T,{to:"body"},[h(R,{onBeforeEnter:E,onEnter:S,onAfterEnter:k},{default:m(()=>[$(d("div",{class:"menuWrapper",style:N({left:v(o)+"px",top:v(c)+"px"})},[d("div",Y,[(u(!0),p(D,null,M(t.menus,(_,G)=>(u(),p("div",{class:"menuItem",onClick:J=>b(_.label)},F(_.label),9,q))),256))])],4),[[A,v(l)]])]),_:1})]))],512))}});const f=g(z,[["__scopeId","data-v-c6d4dd8b"]]),w=s=>(V("data-v-c572001b"),s=s(),H(),s),P={class:"content"},U=w(()=>d("div",{class:"card1"},"123",-1)),W=w(()=>d("div",{class:"card1"},"112323",-1)),j=x({__name:"index",setup(s){const i=r([{label:"复制"},{label:"粘贴"}]),a=r([{label:"复制"},{label:"粘贴123"}]),o=c=>{console.log(c)};return(c,l)=>(u(),y(C,null,{main:m(()=>[d("div",P,[d("div",null,[h(f,{menus:i.value,onSelect:o},{default:m(()=>[U]),_:1},8,["menus"])]),h(f,{menus:a.value,onSelect:o},{default:m(()=>[W]),_:1},8,["menus"])])]),_:1}))}});const Q=g(j,[["__scopeId","data-v-c572001b"]]);export{Q as default};
