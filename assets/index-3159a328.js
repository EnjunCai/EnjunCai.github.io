import{E as u}from"./element-plus-be5093c8.js";import{W as p}from"./index-c2e3b231.js";import{d as _,r as c,w,t as h,x as f,c as v,a as E,M as l,O as g,o as x}from"./@vue-defa2bbc.js";import{_ as W}from"./index-3db832b2.js";import"./@vueuse-8562570f.js";import"./@element-plus-16f33192.js";import"./lodash-es-f44eecda.js";import"./pinia-da015ced.js";import"./@codemirror-453f4d42.js";import"./@lezer-9e9c314f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";import"./vue-router-2ca6728a.js";const b={class:"wrapper"},y={class:"waterfall-container"},B=_({__name:"index",setup(z){const t=c(5),a=c(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth);w(()=>a.value,e=>{e<1024?t.value=2:e<768?t.value=1:t.value=5});const d=(e,n)=>new Promise(i=>{fetch(`https://www.vilipix.com/api/v1/picture/public?limit=${n}&tags=%E7%B2%BE%E7%81%B5%E5%AE%9D%E5%8F%AF%E6%A2%A6&from=pc_web&sort=new&offset=${--e*n}`).then(async s=>{const m=(await s.json()).data.rows.map(o=>({id:o.picture_id,url:o.original_url,height:o.height,width:o.width}));i(m)})});function r(){a.value=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth}return h(()=>{window.addEventListener("resize",r)}),f(()=>{window.removeEventListener("resize",r)}),(e,n)=>{const i=u;return x(),v("div",b,[E("div",y,[l(p,{gap:20,column:t.value,request:d,"page-size":30},{item:g(({item:s})=>[l(i,{src:s.url,alt:"图片",class:"image",lazy:""},null,8,["src"])]),_:1},8,["column"])])])}}});const P=W(B,[["__scopeId","data-v-013bab79"]]);export{P as default};
