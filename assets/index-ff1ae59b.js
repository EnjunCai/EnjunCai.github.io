import{b as D,c as L}from"./element-plus-78da4f18.js";import{d as B,r as s,o as x,c as g,a as t,G as w,a5 as N,P as S,O as $,ak as V,al as W,Q as M,R as I,u as P,a1 as f,L as p,J as h}from"./@vue-7d7101e0.js";import{_ as C}from"./index-d16b79dc.js";import"./@vueuse-1e9e5a18.js";import"./@element-plus-c6e9947a.js";import"./lodash-es-195107c1.js";import"./@popperjs-c75af06c.js";import"./pinia-fe9b4ad3.js";import"./@codemirror-453f4d42.js";import"./@lezer-9e9c314f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";import"./vue-router-c0c516d0.js";const T=l=>(V("data-v-f87d90c1"),l=l(),W(),l),q={class:"container"},z={class:"section"},G=T(()=>t("div",{class:"pointer"},null,-1)),O=B({__name:"turntable",setup(l){const i=["奖品1","奖品2","奖品3","奖品4","奖品5","奖品6","奖品7"],m=s(0);let _=!1;const d=()=>{if(!_){_=!0;const c=Math.random()*360+1800;m.value+=c,_=!1}};return(c,v)=>(x(),g(w,null,[t("div",q,[(x(),g(w,null,N(i,(b,y)=>t("div",{class:"wheel",key:y,style:S({transform:"rotate("+360/i.length*y+`deg) skewY(-${360/i.length}deg)`})},[t("div",z,$(b),1)],4)),64)),G]),t("button",{onClick:d},"抽奖")],64))}});const X=C(O,[["__scopeId","data-v-f87d90c1"]]),j=l=>(V("data-v-427b5756"),l=l(),W(),l),A={class:"openBoxPending"},F=j(()=>t("div",{class:"pointer"},null,-1)),J={class:"options"},Q={style:{"margin-top":"100px"}},U=B({__name:"index",setup(l){let i=s([]);const m=s(),_=s(),d=s(!1);let c=s([{id:1,title:"一等奖",color:"pink"},{id:2,title:"二等奖",color:"darkgoldenrod"},{id:3,title:"三等奖",color:"darkturquoise"},{id:4,title:"小玩具",color:"peachpuff"},{id:5,title:"废品",color:"lavender"},{id:6,title:"垃圾",color:"aquamarine"},{id:7,title:"破烂",color:"dimgray"},{id:8,title:"谢谢参与",color:"azure"},{id:9,title:"下次加油",color:"fuchsia"},{id:10,title:"继续努力",color:"red"}]);const v=s(-1),b=s();function y(r){let e=Math.floor(r),n,u=e+.1,a=e+.9;return n=u+Math.random()*(a-u),n-r}const E=()=>{let r=m.value,e=[];for(d.value=!0;e.length<120;){const o=Math.floor(Math.random()*c.value.length);e.push({...c.value[o]})}for(let o=e.length-1;o>0;o--){const k=Math.floor(Math.random()*(o+1));[e[o],e[k]]=[e[k],e[o]]}let n=1e4/100,u=_.value.offsetWidth/2/100,a=Math.round(n+Math.ceil(u))-1;if(v.value!=-1){const o=c.value.find(k=>k.id===v.value);e[a]=o}else{let o=Math.floor(Math.random()*7)+4;[1,2,3].includes(e[a].id)&&(e[a]=c.value[o])}i.value=e,b.value=setTimeout(()=>{r.style.transition="all 10s",r.style.transform=`translateX(-${1e4+y(u)*100}px)`},1e3)},R=()=>{d.value=!1,i.value=[],clearTimeout(b.value);let r=m.value;r.style.transition="none",r.style.transform="translateX(0px)"};return(r,e)=>{const n=D,u=L;return x(),g(w,null,[t("div",null,[t("div",{class:"box_wrapper",ref_key:"boxWrapper",ref:_},[M(t("div",A," 点击按钮抽奖（默认不匹配，永远抽不到前三个奖品） ",512),[[I,!d.value]]),F,t("div",{class:"item_wrapper",ref_key:"itemWrapper",ref:m},[(x(!0),g(w,null,N(P(i),(a,o)=>(x(),g("div",{class:"item",style:S({background:""+a.color}),key:Number(a.id)},$(a.title),5))),128))],512)],512),M(t("button",{onClick:E},"开始",512),[[I,!d.value]]),M(t("button",{onClick:R},"重置",512),[[I,d.value]]),t("div",J,[f(" 指定一个id必中 "),p(u,{modelValue:v.value,"onUpdate:modelValue":e[0]||(e[0]=a=>v.value=a)},{default:h(()=>[p(n,{value:-1},{default:h(()=>[f("不匹配")]),_:1}),p(n,{value:1},{default:h(()=>[f("一等奖")]),_:1}),p(n,{value:2},{default:h(()=>[f("二等奖")]),_:1}),p(n,{value:3},{default:h(()=>[f("三等奖")]),_:1})]),_:1},8,["modelValue"])])]),t("div",Q,[p(X)])],64)}}});const de=C(U,[["__scopeId","data-v-427b5756"]]);export{de as default};
