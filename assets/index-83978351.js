import{S as C}from"./StudyNavbar-508b792b.js";import{b as r,i as I,Y as L,d as y,o as u,c as v,H as B,M as b,U as p,O as m,P as M,V as $,u as h,a as i,F as V,a7 as A,T as D,J as F,W as H,a5 as N,ax as R,ay as T}from"./@vue-eaa1d06e.js";import{_ as g}from"./index-19143d46.js";import"./vue-router-3cdb739e.js";import"./pinia-d32daf95.js";import"./element-plus-a50d55ee.js";import"./lodash-es-2c2c875c.js";import"./@vueuse-7ad8fefa.js";import"./@element-plus-10f48792.js";import"./@popperjs-c75af06c.js";import"./@ctrl-4c9502e5.js";import"./dayjs-d2465c63.js";import"./async-validator-bf8f818c.js";import"./memoize-one-297ddbcb.js";import"./normalize-wheel-es-ed76fb12.js";import"./@floating-ui-da39869e.js";function Y(o){console.log(o);const d=r(0),l=r(0),c=r(),a=e=>{e.preventDefault(),e.stopPropagation(),console.log(e.clientX,e.clientY),d.value=e.clientX,l.value=e.clientY,c.value=!0},s=()=>{c.value=!1};return I(()=>{const e=o.value;e==null||e.addEventListener("contextmenu",a),window.addEventListener("click",s,!0),window.addEventListener("contextmenu",s,!0)}),L(()=>{const e=o.value;e==null||e.removeEventListener("contextmenu",a),window.removeEventListener("click",s,!0),window.removeEventListener("contextmenu",s,!0)}),{x:d,y:l,isShow:c}}const P={class:"menu"},U=["onClick"],W=y({__name:"RightClick",props:{menus:{default:()=>[]}},emits:["select"],setup(o,{emit:d}){const l=r(null),{x:c,y:a,isShow:s}=Y(l),e=d,w=t=>{s.value=!1,e("select",t)},S=t=>{const n=t;n.style.height="0"},E=t=>{console.log(t);const n=t;n.style.height="auto";const _=n.clientHeight;n.style.height="0",requestAnimationFrame(()=>{n.style.height=_+"px",n.style.overflow="hidden",n.style.transition="all .3s"})},k=t=>{const n=t;n.style.transition="none"};return(t,n)=>(u(),v("div",{ref_key:"containerRef",ref:l,class:"wrapper"},[B(t.$slots,"default",{},void 0,!0),(u(),b(N,{to:"body"},[p(H,{onBeforeEnter:S,onEnter:E,onAfterEnter:k},{default:m(()=>[M(i("div",{class:"menuWrapper",style:F({left:h(c)+"px",top:h(a)+"px"})},[i("div",P,[(u(!0),v(V,null,A(t.menus,(_,j)=>(u(),v("div",{class:"menuItem",onClick:G=>w(_.label)},D(_.label),9,U))),256))])],4),[[$,h(s)]])]),_:1})]))],512))}});const f=g(W,[["__scopeId","data-v-ee87a23f"]]),x=o=>(R("data-v-9b3437fd"),o=o(),T(),o),X={class:"content"},q=x(()=>i("div",{class:"card1"},"右键试试自定义菜单",-1)),z=x(()=>i("div",{class:"card3"},"右键试试自定义菜单3,我是嵌套的",-1)),J=x(()=>i("div",{class:"card2"},"右键试试自定义菜单2",-1)),O=y({__name:"index",setup(o){const d=r([{label:"复制"},{label:"粘贴"},{label:"我是card1"}]),l=r([{label:"复制"},{label:"粘贴"},{label:"我是card2"}]),c=r([{label:"复制"},{label:"粘贴"},{label:"我是card3"}]),a=s=>{console.log(s)};return(s,e)=>(u(),b(C,null,{main:m(()=>[i("div",X,[i("div",null,[p(f,{menus:d.value,onSelect:a},{default:m(()=>[q,p(f,{menus:c.value,onSelect:a},{default:m(()=>[z]),_:1},8,["menus"])]),_:1},8,["menus"])]),p(f,{menus:l.value,onSelect:a},{default:m(()=>[J]),_:1},8,["menus"])])]),_:1}))}});const _e=g(O,[["__scopeId","data-v-9b3437fd"]]);export{_e as default};
