import{b as S,c as E}from"./element-plus-00c18570.js";import{d as I,r as i,c as x,a as n,x as b,T as g,Q as V,S as C,u as W,B as d,M as u,O as c,a3 as T,a4 as D,o as y,E as R,C as q}from"./@vue-f3490fa2.js";import{_ as z}from"./index-00ffdc94.js";import"./@vueuse-e676670b.js";import"./lodash-es-f44eecda.js";import"./@element-plus-5f686192.js";import"./pinia-119ebc3e.js";import"./vue-router-d1104b17.js";const L=p=>(T("data-v-532170bb"),p=p(),D(),p),O={class:"openBoxPending"},P=L(()=>n("div",{class:"pointer"},null,-1)),X={class:"options"},j=I({__name:"index",setup(p){let f=i([]);const h=i(),k=i(),s=i(!1);let m=i([{id:1,title:"一等奖",color:"pink"},{id:2,title:"二等奖",color:"darkgoldenrod"},{id:3,title:"三等奖",color:"darkturquoise"},{id:4,title:"小玩具",color:"peachpuff"},{id:5,title:"废品",color:"lavender"},{id:6,title:"垃圾",color:"aquamarine"},{id:7,title:"破烂",color:"dimgray"},{id:8,title:"谢谢参与",color:"azure"},{id:9,title:"下次加油",color:"fuchsia"},{id:10,title:"继续努力",color:"red"}]);const _=i(-1),M=i();function w(a){let e=Math.floor(a),l,r=e+.1,o=e+.9;return l=r+Math.random()*(o-r),l-a}const B=()=>{let a=h.value,e=[];for(s.value=!0;e.length<120;){const t=Math.floor(Math.random()*m.value.length);e.push({...m.value[t]})}for(let t=e.length-1;t>0;t--){const v=Math.floor(Math.random()*(t+1));[e[t],e[v]]=[e[v],e[t]]}let l=1e4/100,r=k.value.offsetWidth/2/100,o=Math.round(l+Math.ceil(r))-1;if(_.value!=-1){const t=m.value.find(v=>v.id===_.value);e[o]=t}else{let t=Math.floor(Math.random()*7)+4;[1,2,3].includes(e[o].id)&&(e[o]=m.value[t])}f.value=e,M.value=setTimeout(()=>{a.style.transition="all 10s",a.style.transform=`translateX(-${1e4+w(r)*100}px)`},1e3)},N=()=>{s.value=!1,f.value=[],clearTimeout(M.value);let a=h.value;a.style.transition="none",a.style.transform="translateX(0px)"};return(a,e)=>{const l=S,r=E;return y(),x("div",null,[n("div",{class:"box_wrapper",ref_key:"boxWrapper",ref:k},[b(n("div",O," 点击按钮抽奖（默认不匹配，永远抽不到前三个奖品） ",512),[[g,!s.value]]),P,n("div",{class:"item_wrapper",ref_key:"itemWrapper",ref:h},[(y(!0),x(V,null,C(W(f),(o,t)=>(y(),x("div",{class:"item",style:R({background:""+o.color}),key:Number(o.id)},q(o.title),5))),128))],512)],512),b(n("button",{onClick:B},"开始",512),[[g,!s.value]]),b(n("button",{onClick:N},"重置",512),[[g,s.value]]),n("div",X,[d(" 指定一个id必中 "),u(r,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=o=>_.value=o)},{default:c(()=>[u(l,{value:-1},{default:c(()=>[d("不匹配")]),_:1}),u(l,{value:1},{default:c(()=>[d("一等奖")]),_:1}),u(l,{value:2},{default:c(()=>[d("二等奖")]),_:1}),u(l,{value:3},{default:c(()=>[d("三等奖")]),_:1})]),_:1},8,["modelValue"])])])}}});const K=z(j,[["__scopeId","data-v-532170bb"]]);export{K as default};
