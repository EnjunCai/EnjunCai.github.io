import{S as C}from"./StudyNavbar-5ed91960.js";import{r,f as I,C as L,d as y,o as u,c as v,z as B,I as g,L as p,J as _,Q as $,R as M,u as f,a as i,G as R,a5 as A,O as D,P as N,T,Z as V,ak as z,al as F}from"./@vue-7d7101e0.js";import{_ as b}from"./index-17eaff15.js";import"./vue-router-c0c516d0.js";import"./pinia-fe9b4ad3.js";import"./@codemirror-453f4d42.js";import"./@lezer-9e9c314f.js";import"./style-mod-ab9c37a6.js";import"./w3c-keyname-9fb136d3.js";import"./element-plus-78da4f18.js";import"./@vueuse-1e9e5a18.js";import"./@element-plus-c6e9947a.js";import"./lodash-es-195107c1.js";import"./@popperjs-c75af06c.js";function H(o){console.log(o);const d=r(0),l=r(0),c=r(),a=e=>{e.preventDefault(),e.stopPropagation(),console.log(e.clientX,e.clientY),d.value=e.clientX,l.value=e.clientY,c.value=!0},s=()=>{c.value=!1};return I(()=>{const e=o.value;e==null||e.addEventListener("contextmenu",a),window.addEventListener("click",s,!0),window.addEventListener("contextmenu",s,!0)}),L(()=>{const e=o.value;e==null||e.removeEventListener("contextmenu",a),window.removeEventListener("click",s,!0),window.removeEventListener("contextmenu",s,!0)}),{x:d,y:l,isShow:c}}const P={class:"menu"},X=["onClick"],Y=y({__name:"RightClick",props:{menus:{default:()=>[]}},emits:["select"],setup(o,{emit:d}){const l=r(null),{x:c,y:a,isShow:s}=H(l),e=d,w=t=>{s.value=!1,e("select",t)},S=t=>{const n=t;n.style.height="0"},E=t=>{console.log(t);const n=t;n.style.height="auto";const m=n.clientHeight;n.style.height="0",requestAnimationFrame(()=>{n.style.height=m+"px",n.style.overflow="hidden",n.style.transition="all .3s"})},k=t=>{const n=t;n.style.transition="none"};return(t,n)=>(u(),v("div",{ref_key:"containerRef",ref:l,class:"wrapper"},[B(t.$slots,"default",{},void 0,!0),(u(),g(V,{to:"body"},[p(T,{onBeforeEnter:S,onEnter:E,onAfterEnter:k},{default:_(()=>[$(i("div",{class:"menuWrapper",style:N({left:f(c)+"px",top:f(a)+"px"})},[i("div",P,[(u(!0),v(R,null,A(t.menus,(m,U)=>(u(),v("div",{class:"menuItem",onClick:W=>w(m.label)},D(m.label),9,X))),256))])],4),[[M,f(s)]])]),_:1})]))],512))}});const h=b(Y,[["__scopeId","data-v-ee87a23f"]]),x=o=>(z("data-v-9b3437fd"),o=o(),F(),o),q={class:"content"},G=x(()=>i("div",{class:"card1"},"右键试试自定义菜单",-1)),J=x(()=>i("div",{class:"card3"},"右键试试自定义菜单3,我是嵌套的",-1)),O=x(()=>i("div",{class:"card2"},"右键试试自定义菜单2",-1)),Q=y({__name:"index",setup(o){const d=r([{label:"复制"},{label:"粘贴"},{label:"我是card1"}]),l=r([{label:"复制"},{label:"粘贴"},{label:"我是card2"}]),c=r([{label:"复制"},{label:"粘贴"},{label:"我是card3"}]),a=s=>{console.log(s)};return(s,e)=>(u(),g(C,null,{main:_(()=>[i("div",q,[i("div",null,[p(h,{menus:d.value,onSelect:a},{default:_(()=>[G,p(h,{menus:c.value,onSelect:a},{default:_(()=>[J]),_:1},8,["menus"])]),_:1},8,["menus"])]),p(h,{menus:l.value,onSelect:a},{default:_(()=>[O]),_:1},8,["menus"])])]),_:1}))}});const ue=b(Q,[["__scopeId","data-v-9b3437fd"]]);export{ue as default};
